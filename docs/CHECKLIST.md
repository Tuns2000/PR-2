# Чек-лист самопроверки проекта

## Функциональность

### Пользователи
- [ ] Регистрация создаёт пользователя и возвращает успешный ответ (201)
- [ ] Повторная регистрация с той же почтой возвращает ошибку (400)
- [ ] Вход выдаёт JWT токен
- [ ] Защищённые вызовы с токеном проходят успешно
- [ ] Вызовы без токена получают отказ (401)
- [ ] Профиль читается и возвращает данные пользователя
- [ ] Профиль обновляется с сохранением изменений
- [ ] Список пользователей доступен только админам
- [ ] Обычный пользователь не видит список пользователей (403)

### Заказы
- [ ] Заказ создаётся для авторизованного пользователя
- [ ] Создание возвращает статус "created"
- [ ] Сумма заказа рассчитывается правильно
- [ ] Получение своего заказа работает
- [ ] Попытка получить чужой заказ возвращает 403
- [ ] Список своих заказов работает
- [ ] Пагинация работает корректно
- [ ] Сортировка работает по заданному полю
- [ ] Обновление статуса заказа работает
- [ ] Попытка обновить чужой заказ возвращает 403
- [ ] Отмена собственного заказа работает
- [ ] Статус меняется на "cancelled"
- [ ] Отмена завершённого заказа возвращает ошибку

### API Gateway
- [ ] Прокидывает запросы на сервис пользователей
- [ ] Прокидывает запросы на сервис заказов
- [ ] Проверяет JWT на защищённых путях
- [ ] Ограничивает частоту запросов (rate limiting)
- [ ] CORS настроен корректно
- [ ] X-Request-ID генерируется и прокидывается

### Логирование и трассировка
- [ ] Логи видны в консоли
- [ ] Логи содержат requestId
- [ ] Логи содержат информацию о методе и URL
- [ ] Ошибки логируются с stack trace
- [ ] X-Request-ID проходит через все сервисы

### Окружения
- [ ] Development окружение запускается
- [ ] Test окружение запускается
- [ ] Production окружение запускается
- [ ] Переменные окружения применяются корректно
- [ ] JWT_SECRET отличается в разных окружениях

### Безопасность
- [ ] Пароли хешируются (bcrypt)
- [ ] JWT токены валидируются
- [ ] Rate limiting активен
- [ ] Валидация входных данных работает
- [ ] Проверка прав доступа работает

### Документация
- [ ] OpenAPI спецификация присутствует
- [ ] Спецификация покрывает все endpoints
- [ ] Примеры запросов есть
- [ ] Примеры ответов есть
- [ ] README содержит инструкции по запуску

### Docker
- [ ] Все сервисы имеют Dockerfile
- [ ] docker-compose.yml корректен
- [ ] Сервисы запускаются в контейнерах
- [ ] Сервисы видят друг друга по сети
- [ ] Переменные окружения передаются в контейнеры

## Тестирование

### Unit тесты (необязательно, но желательно)
- [ ] Тесты на валидацию данных
- [ ] Тесты на хеширование паролей
- [ ] Тесты на генерацию JWT

### Интеграционные тесты (Postman)
- [ ] Коллекция Postman импортируется
- [ ] Все тесты проходят успешно
- [ ] Переменные окружения настроены
- [ ] Токен сохраняется автоматически

## Качество кода

- [ ] Код отформатирован
- [ ] Нет console.log (используется logger)
- [ ] Обработка ошибок везде
- [ ] Async/await используется правильно
- [ ] Нет hardcoded значений (через env)
- [ ] Комментарии там, где нужно

## Deployment готовность

- [ ] .env.example создан
- [ ] Секреты не закоммичены
- [ ] .gitignore настроен
- [ ] README актуален
- [ ] Инструкции по развёртыванию есть

## Оценка "5" - дополнительные требования

- [ ] Все тесты из блока "Пользователи" проходят
- [ ] Все тесты из блока "Заказы" проходят
- [ ] Проверка прав доступа работает корректно
- [ ] Попытка обновить чужой заказ блокируется
- [ ] Отмена заказа работает без побочных эффектов
- [ ] Логирование полное и структурированное
- [ ] Трассировка запросов через все сервисы
- [ ] OpenAPI спецификация полная и корректная
- [ ] Postman коллекция с автотестами
- [ ] Работа в трёх окружениях проверена